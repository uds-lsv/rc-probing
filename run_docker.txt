# Build docker image from docker file (using latest base PyTorch image from NVIDIA GPU Cloud)
docker build -f ./Dockerfile --build-arg USER_UID=$UID --build-arg USER_NAME=$(id -un) -t vectorizer:latest .

# Launch docker container from docker image as <user>
docker run -it --rm --runtime=nvidia --pid=host --ipc=host --user=<user> \
    -v ~/projects/vectorizer:/vectorizer \
    -v /data/users/<user>/pre-trained-transformers:/pre-trained-transformers \
    -v /data/users/<user>/logs/checkpoints:/checkpoints \
    -v /data/users/<user>/datasets:/datasets \
    vectorizer:latest
